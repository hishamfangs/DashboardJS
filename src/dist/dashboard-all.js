var FutureLabs = (function () {function Action(t,e,i,o){t.language||(t.language=this.language="all"),Component.call(this,t,e,i,o),actionItem={name:this.name,domId:this.uid,class:this.class,icon:this.icon,url:this.url,onClick:this.onClick,language:this.language,translation:this.translatedName},this.object.querySelector(this.template.selectors.itemText).innerHTML=this.translatedName}function ActionsContainer(t,e,i,o){if(Component.call(this,t,e,i,o),this.actions=t.actions,this.actions)for(var n=Object.keys(this.actions),a=0;a<n.length;a++){var r=n[a],s={},r=(s.name=r,s.settings=this.actions[r],new Action(s,e,i,o));console.log(r),this.append(r)}console.log(this)}function ActionsMenu(t,e,i,o,n){var a=this;Component.call(this,{...e,onClick:function(){a.toggleMenu()}},i,o,n),this.record=t,this.record.addClass("actions-menu"),document.addEventListener("mouseup",function(t){a.object.contains(t.target)||a.closeMenu()})}function Component(t,e,i,o,n,a){this.load(t,e,i,o,n,a)}function Dashboard({config:t,data:e,templateManager:i,useExistingElement:o,selectors:n,templateURL:a,appendTo:r}){this.initialize({config:t,data:e,templateManager:i,useExistingElement:o,selectors:n,templateURL:a,appendTo:r})}function DashboardEvent(){this.completed=!1,this.succeeded=!1,this.failed=!1,this.successEvent={functionToRun:function(){},params:{}},this.failureEvent={functionToRun:function(){},params:{}},this.completionEvent={functionToRun:function(){},params:{}}}function DataManager(t,e){this.init(t),this.setData(e),console.log("DataManager",this)}function Field(t,e,i,o){Component.call(this,t,e,i,o),this.object.setAttribute("class",this.object.getAttribute("class")+" go-"+this.position),this.renderFieldValues()}function FieldHeader(t,e,i,o){Component.call(this,t,e,i,o),this.addClass(this.class),this.setText(this.translatedName)}function FieldHeaderContainer(t,e,i,o){Component.call(this,t,e,i,o);var n,a,r=Component.getFieldSettings(this.fields,this.language);for(n in r)r.hasOwnProperty(n)&&(a=new FieldHeader(r[n],null,i),this.append(a));this.image||this.objects.imageSpacer.hide()}function FileLoader(t){this.templateURL=t}function Filtering(t,e,i,o,n){var a=this;Component.call(this,e,i.getData(),o,n),this.dataManager=i,this.tab=t,this.dashboard=t.dashboard,this.objects.itemButton.addEventListener("click",function(){a.addKeyword(a.objects.itemInput.value),a.clearInput()}),this.refresh()}function FilteringKeyword(t,e,i,o,n){var a=this;Component.call(this,e,[],o,n),this.dataManager=i,this.filtering=t,this.objects.itemClose.addEventListener("click",function(){a.close()})}function startTimer(){timer=new Date,console.log("Timer Started")}function endTimer(){var t=(timerEnd=new Date).getTime()-timer.getTime();console.log("Timer: "+t/1e3)}function clone(t){if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){for(var e=[],i=0,o=t.length;i<o;i++)e[i]=clone(t[i]);return e}if(t instanceof Object){for(var n in e={},t)t.hasOwnProperty(n)&&(e[n]=clone(t[n]));return e}throw new Error("Unable to copy obj! Its type isn't supported.")}function getArabicNumbers(t){var e=["&#1632;","&#1633;","&#1634;","&#1635;","&#1636;","&#1637;","&#1638;","&#1639;","&#1640;","&#1641;"],o="";for(t=String(t),i=0;i<t.length;i++)o+=e[parseInt(t.charAt(i))];return o}function ifEmptyReplaceWithSpace(t){return t=""==t?" &nbsp; ":t}function processOnClick(t){theDashboard=t.currentTarget.params.dashboard,theCurrentRecord=t.currentTarget.params.record,theCurrentItem=t.currentTarget.params.item,(theFunction=t.currentTarget.params.theFunction).call(theCurrentItem,theDashboard,theCurrentRecord)}function splitDate(t,e){i="ar-AE"==e?["","يناير","فبراير","مارس","إبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]:["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var i,o,t=String(t).split("-");return!!t&&0<t.length&&(o=parseInt(t[1]),t[1]=i[o=o<1?1:o],"ar-AE"==e&&(t[0]=getArabicNumbers(t[0]),t[2]=getArabicNumbers(t[2])),t)}Action.prototype=Object.create(Component.prototype),(Action.prototype.constructor=Action).defaultTemplate={wrapper:".actions-container table.actions tr",item:".action",itemText:".subtitle",itemIcon:".action-icon",itemLink:"a",container:""},ActionsContainer.prototype=Object.create(Component.prototype),(ActionsContainer.prototype.constructor=ActionsContainer).defaultTemplate={wrapper:".actions-container",item:".actions",itemText:"",itemIcon:"",itemLink:"",container:"tr"},ActionsContainer.prototype.getTemplate=function(t){return Component.prototype.getTemplate.call(this,t)},ActionsMenu.prototype=Object.create(Component.prototype),(ActionsMenu.prototype.constructor=ActionsMenu).prototype.toggleMenu=function(){this?.record?.object?.classList.contains("open")?this.record.removeClass("open"):this?.record?.addClass("open")},ActionsMenu.prototype.closeMenu=function(){this?.record?.object?.classList.contains("open")&&this.record.removeClass("open")},ActionsMenu.defaultTemplate={wrapper:"",item:".kebab-menu",itemText:"",itemIcon:"",itemLink:"",itemImage:"",container:""},Component.prototype.load=function(t,e,i,o,n,a){this.init(t,e,i,o,n,a),this.render(),this.processEvents()},Component.prototype.init=function(t,e,i,o,n,a){if(t){var r,s=Object.keys(t);for(r in s)this[propKey=s[r]]=t[propKey];this.config=clone(t)}this.templateSettings||this.templateSettings||(this.templateSettings={},this.templateSettings.selectors=this.__proto__.constructor.defaultTemplate),this.templateSettings.selectors=n||this.__proto__.constructor.defaultTemplate,this.templateSettings.useExistingElement=!!o,i&&(this.templateManager=i),a&&(this.templateURL=a),t.hasOwnProperty("clone")||(this.clone=!0),t.hasOwnProperty("language")||(this.language="en-US"),t.hasOwnProperty("name")||(this.name=this.__proto__.constructor.name),t.hasOwnProperty("class")||(this.class=""),t.hasOwnProperty("style")||(this.style=null);n=this.name;this.translation&&this.translation[this.language]&&(n=this.translation[this.language]),this.translatedName=n,e?this.data=e:t.data?this.data=t.data:this.data=null,t.dashboard?this.dashboard=t.dashboard:this.dashboard=null,t.onLoop&&(this.onLoop=t.onLoop),this.onAdd&&(t.onAdd=null,delete t.onAdd),this.config.id?this.id=this.config.id:this.id=this.generateId(),this.config.id?this.uid=this.config.id:this.uid=Component.generateRandomId()},Component.prototype.render=function(){if(this.template=this.getTemplate(),void 0===(t=this.template.object)||"null"==typeof t)var t=null;else if(t.setAttribute("id",this.uid),t.setAttribute("class",t.getAttribute("class")+" "+this.class),this.style)for(var e in this.style)t.style.cssText+=e+":"+this.style[e]+";";this.object=t,this.objects=this.template.objects,this.renderValues()},Component.defaultTemplate={wrapper:"",item:".tab-content",itemText:"",itemIcon:"",itemLink:"",container:""},Component.prototype.getTemplate=function(t,e,i){return e=e||this.templateSettings.selectors,t=t||this.__proto__.constructor.name,i||!1===i||(i=this.templateSettings.useExistingElement),this.templateManager.getTemplate(t,e,i)},Component.prototype.renderValues=function(){var t=ifEmptyReplaceWithSpace(processedValue=this.name);if(this.template.objects.item&&this.template.objects.item.setAttribute("title",t),this.template.objects.itemText&&this.setText(t),this.template.objects.itemImage&&this.config.image?this.setImage(this.config.image):this.template.objects.itemBackgroundImage&&this.config.image&&this.setBackgroundImage(this.config.image,null,this.config.imageCardHeight),this.onLoop){t=this.onLoop;try{t(this)}catch(t){console.log("ERROR in onLoop for Field: "+this.name+". error: "+t)}}},Component.prototype.generateId=function(t){try{var e=t;if(!(e=t||this.name))throw"Warning: "+this+" has no name. A random Id will be generated.";var i=Component.generateIdFromName(e)}catch(t){return console.log(t),i=Component.generateRandomId()}return i},Component.generateIdFromName=function(t){t=String(t).trim();return t=(t=(t=(t=t.replace("'","")).replace('"',"")).replace(/[^\w]/gi,"_")).toLowerCase()},Component.generateRandomId=function(){var t=24*Math.random()|0,e=46656*Math.random()|0,i=46656*Math.random()|0,o=46656*Math.random()|0;return firstLetter=String.fromCharCode(97+t),e=("000"+e.toString(36)).slice(-3),i=("000"+i.toString(36)).slice(-3),o=("000"+o.toString(36)).slice(-3),firstLetter+e+i+o},Component.prototype.processEvents=function(){var t,e,i=!1,o=("string"==typeof(visibility=this.visibility)?"disable"==visibility||"enable"==visibility||"show"==visibility?i=!0:"hide"==visibility?i=!1:(i=!0,visibility="show"):"function"==typeof visibility?"disable"==(visibility=visibility(this))||"enable"==visibility||"show"==visibility?i=!0:"hide"==visibility?i=!1:visibility=!1===visibility?(i=!1,"hide"):(i=!0,"show"):visibility=!1===visibility||0===visibility?(i=!1,"hide"):(i=!0,"show"),null);if(this.icon&&("function"==typeof(o=this.icon)&&(o=o(this)),this.objects.itemIcon)&&this.addClass(o,"itemIcon"),"show"!=visibility&&"enable"!=visibility&&this.addClass(visibility),"show"==visibility||"enable"==visibility){if(this.url||this.onClick)this.template.selectors.itemLink||(this.template.selectors.itemLink=this.template.selectors.item),this.objects.itemLink||(this.objects.itemLink=this.objects.item),this.url&&(this.setLink(this.url,null,this.urlTarget),(t="function"==typeof(t=this.url)?t(this):t)?(this.objects.itemLink.setAttribute("href",t),this.target&&this.objects.itemLink.setAttribute("target",this.target)):0<this.object.getElementsByTagName("a").length&&this.object.querySelectorAll("a").unwrap()),this.onClick&&(e=this.onClick,this.objects.itemLink.classList.add("cursor-pointer"),this.objects.itemLink.addClickHandler(processOnClick,{dashboard:this,record:this.data,item:this,theFunction:e}),this.object.addEventListener("click",stopEventPropagation,!1));else if(this.object.querySelectorAll(this.template.selectors.item+" > a").length)try{this.object.querySelector(this.template.selectors.item+"> a").children[0].unwrap("a")}catch(t){}}else"disable"==visibility&&this.onClick&&this.object.addEventListener("click",stopEventPropagation,!1);this.onLoop&&this.onLoop(this),this.visibility=visibility,this.show=i,this.onClick=e,this.url=t,this.icon=o},Component.prototype.setText=function(t,e){this.template.setText(t,e)},Component.prototype.addClass=function(t,e){this.template.addClass(t,e)},Component.prototype.removeClass=function(t,e){try{this.template.removeClass(t,e)}catch(t){console.log(t)}},Component.prototype.setImage=function(t,e){this.template.setImage(t,e)},Component.prototype.setBackgroundImage=function(t,e,i){this.template.setBackgroundImage(t,e,i)},Component.prototype.setIcon=function(t,e){this.template.setIcon(t,e)},Component.prototype.removeIcon=function(t){this.template.removeIcon(value,t)},Component.prototype.setLink=function(t,e,i){t=this.template.setLink(t,e,i);t&&(e=this.object.id,this.object.id=this.object.id+"_replaced_by_a_tag",this.object=t,this.objects.item=t,this.object.id=e)},Component.prototype.remove=function(){var t;this.onRemove?((t=new DashboardEvent).addCompletedEvent(function(t){t.delete()},this),this.onRemove(t)):this.delete()},Component.prototype.removeChildren=function(o){if(this.onRemove){var t=new DashboardEvent;t.addCompletedEvent(function(t){for(var e in this.children)if(this.children[e]&&(!o||o==e))for(var i in this.children[e])this.children[e][i]&&this.children[e][i]&&this.children[e][i].delete();if(o)this.children?.[o]&&(this.children[o]=[]);else for(var e in this.children)this.children[e]=[]},this),this.onRemove(t)}else{for(var e in this.children)if(this.children[e]&&(!o||o==e))for(var i in this.children[e])this.children[e][i]&&this.children[e][i]&&this.children[e][i].delete();if(o)this.children?.[o]&&(this.children[o]=[]);else for(var e in this.children)this.children[e]=[]}},Component.prototype.delete=function(){try{this.object.parentNode.removeChild(this.object)}catch(t){}for(var t in this)this.hasOwnProperty(t)&&delete this[t]},Component.prototype.append=function(t,e){try{var i;pContainer="container",this.template.append(t,e),this.children||(this.children={}),e&&(pContainer=e),this.children[pContainer]?((i=this.children[pContainer])instanceof Array||(this.children[pContainer]=new Array,this.children[pContainer].push(i)),this.children[pContainer].push(t)):this.children[pContainer]=[t]}catch(t){console.log(t)}t.onAdd&&(e=new DashboardEvent,t.onAdd(e))},Component.prototype.prepend=function(t,e){try{var i,o="container";this.template.prepend(t,e),this.children||(this.children={}),e&&(o=e),this.children[o]?((i=this.children[o])instanceof Array||(this.children[o]=new Array,this.children[o].unshift(i)),this.children[o].unshift(t)):this.children[o]=[t]}catch(t){console.log(t)}this.onAdd&&(e=new DashboardEvent,this.onAdd(e))},Component.getFieldSettings=function(t,e){if("object"==typeof t){for(var i=e||"en-US",o={},n=Object.keys(t),a=0;a<n.length;a++){var r,s=t[r=n[a]],h=r,c=!0,e="all",l="",p="String",d="",m="center",g=null,u=null,f=null;if(s&&(s.hasOwnProperty("name")&&(h=s.name),s.hasOwnProperty("visible")&&(c=s.visible),s.hasOwnProperty("language")&&(e=s.language),s.hasOwnProperty("class")&&(l=s.class),s.hasOwnProperty("dataType")&&(p=s.dataType),s.hasOwnProperty("url")&&(d=s.url),s.hasOwnProperty("onClick")&&(g=s.onClick),s.hasOwnProperty("position")&&(m=s.position),s.hasOwnProperty("translation"))&&(u=s.translation),c&&(e==i||"all"==e)){var f=h,y=(u&&u[i]&&(f=u[i]),o[r]={},o[r].fieldKey=r,o[r].name=h,o[r].translatedName=f,o[r].visible=c,o[r].language=e,o[r].class=l,o[r].position=m,o[r].dataType=p,o[r].dataField=r,o[r].url=d,o[r].onClick=g,o[r].translation=u,o[r]);if(s&&("object"==typeof s||"array"==typeof s)){var b,v=Object.keys(s);for(b in v)void 0!==y[propKey=v[b]]&&null!==y[propKey]||(y[propKey]=s[propKey])}}}return o}},Component.prototype.fadeOut=function(){var t=this.object,e=setInterval(function(){try{t.style.opacity||(t.style.opacity=1),0<t.style.opacity?t.style.opacity-=.1:clearInterval(e)}catch(t){clearInterval(e)}},50)},Component.prototype.fadeLeft=function(){var t=this.object,e=(t.style.position="absolute",new DashboardEvent),i=setInterval(function(){try{t.style.opacity||(t.style.opacity=1),t.style.marginLeft||(t.style.marginLeft="0%"),t.style.marginRight||(t.style.marginRight="0%"),parseInt(t.style.marginRight)<150?(t.style.marginLeft=parseInt(t.style.marginLeft)-5+"%",t.style.marginRight=parseInt(t.style.marginRight)+5+"%"):(clearInterval(i),e.triggerCompleted())}catch(t){clearInterval(i),e.triggerCompleted()}},10);return e},Component.prototype.fadeRight=function(){var t=this.object,e=setInterval(function(){try{t.style.opacity||(t.style.opacity=1),t.style.marginRight||(t.style.marginRight=0),0<t.style.opacity?(t.style.opacity-=.1,t.style.marginRight=parseInt(t.style.marginRight)-20+"px"):clearInterval(e)}catch(t){clearInterval(e)}},50)},Component.prototype.fadeInLeft=function(){var e=this.object,i=new DashboardEvent,o=setInterval(function(){try{e.style.opacity,e.style.marginRight||(e.style.marginRight="-150%"),e.style.marginLeft||(e.style.marginLeft="150%"),parseInt(e.style.marginRight)+8<=0?(e.style.marginRight=parseInt(e.style.marginRight)+8+"%",e.style.marginLeft=parseInt(e.style.marginLeft)-8+"%"):(clearInterval(o),e.style.opacity=1,e.style.marginRight="0%",e.style.marginLeft="0%",i.triggerCompleted())}catch(t){clearInterval(o),e.style.opacity=1,e.style.marginRight="0px",e.style.marginLeft="0px",i.triggerCompleted()}},5);return i},Component.prototype.getChild=function(t,e){if(e){if(this.children[e])for(var i in this.children[e])if(this.children[e][i]&&this.children[e][i].name==t)return this.children[e][i]}else for(var o in this.children)if(this.children[o])for(var i in this.children[o])if(this.children[o][i]&&this.children[o][i].name==t)return this.children[o][i]},Component.prototype.showLoader=async function(){this.addClass("loader-fade"),await new Promise(t=>setTimeout(()=>{this.addClass("loader"),t()},100))},Component.prototype.hideLoader=function(){this.removeClass("loader"),setTimeout(()=>{this.removeClass("loader-fade")},1e3)},Component.prototype.getChildById=function(t){for(var e in this.children.container)if(this.children.tab[e]&&this.children.tab[e].id==t)return this.children.tab[e];for(var e in this.children)if(this.children[e])for(var i in this.children[e])if(this.children[e][i]&&this.children[e][i].id==t)return this.children[e][i]},Dashboard.prototype=Object.create(Component.prototype),(Dashboard.prototype.constructor=Dashboard).prototype.initialize=async function({config:t,data:e,templateManager:i,useExistingElement:o,selectors:n,templateURL:a,appendTo:r}){void 0===o&&(o=!0),i=i||new TemplateManager,(a||r)&&(i=await this.loadHTML(a,r)),Component.call(this,t,e,i,o,n),t.tabs&&this.loadDashboard(),this.profile&&(a=new UserProfile(this,{...this.profile},[],i),this.append(a,"profile"))},Dashboard.prototype.loadHTML=async function(t,e){if(t||e){if(t&&e)return t=await new FileLoader(t).loadHTML(),e.appendChild(t),new TemplateManager(t);alert("Please supply both templateURL & appendTo")}},Dashboard.prototype.loadDashboard=function(){var t=new Tabs(this,this.config,this.data,this.templateManager);this.append(t,"tabs")},Dashboard.prototype.switchView=function(t){"cards"!=String(t).trim().toLowerCase()&&t?(this.removeClass("cards","item"),this.addClass("list","item")):(this.removeClass("list","item"),this.addClass("cards","item"))},Dashboard.defaultTemplate={wrapper:"",item:".dashboard",itemText:"",tabBreadCrumbs:".tab-breadcrumbs",itemIcon:"",itemLink:"",container:{tabs:".tabs-container",recordset:".dashboard-content",filtering:".filtering",search:"",profile:".user-profile",viewSwitcher:".view-mode",sorting:".sort",paging:".view-pagination"}},DashboardEvent.prototype.triggerCompleted=function(){this.completed=!0,this.onComplete()},DashboardEvent.prototype.triggerSucceeded=function(){this.completed=!0,this.succeeded=!0,this.failed=!1,this.onComplete(),this.onSuccess()},DashboardEvent.prototype.triggerFailed=function(){this.completed=!0,this.succeeded=!1,this.failed=!0,this.onComplete(),this.onFailure()},DashboardEvent.prototype.onComplete=function(){this.completionEvent.functionToRun(this.completionEvent.params)},DashboardEvent.prototype.onSuccess=function(){this.successEvent.functionToRun(this.successEvent.params)},DashboardEvent.prototype.onFailure=function(){this.failureEvent.functionToRun(this.failureEvent.params)},DashboardEvent.prototype.addSuccessEvent=function(t,e){this.successEvent.functionToRun=t,this.successEvent.params=e,this.succeeded&&this.onSuccess()},DashboardEvent.prototype.addFailureEvent=function(t,e){this.failureEvent.functionToRun=t,this.failureEvent.params=e,this.failed&&this.onFailure()},DashboardEvent.prototype.addCompletedEvent=function(t,e){this.completionEvent.functionToRun=t,this.completionEvent.params=e,this.completed&&this.onComplete()},DashboardEvent.prototype.result=null,DataManager.SORTING={ASC:"asc",DESC:"desc"},DataManager.prototype.init=function(t){this.setDefaults(),this.setConfig(t)},DataManager.prototype.setDefaults=function(){this.page=1,this.pages=1,this.selectedItem=-1,this.itemsPerPage=12,this.fetch={options:{}},this.sorting={sortBy:"",sortDirection:DataManager.SORTING.ASC,sortFieldText:""},this.filtering={keywords:[]},this.search={parameters:[],options:{enableSpecialCharacters:!1,wholeWordSearch:!1}}},DataManager.prototype.setConfig=function(t){if(t&&((this.config=t).page&&(this.page=t.page),t.itemsPerPage&&(this.itemsPerPage=t.itemsPerPage),t.fetch&&(this.fetch={...this.fetch,...t.fetch}),t.sorting&&this.setSorting(t.sorting),t.search)){if(t.search.options)for(var e in t.search.options)t.search.options.hasOwnProperty(e)&&(t.search.options[e],this.search.options[e]=this.search.options);t.search.parameters&&(this.search.parameters=t.search.parameters)}},DataManager.prototype.load=async function(t){var e,i;return this.fetch?.url&&({options:e,url:i}=this.generateFetchParameters(t),i=await(await fetch(i,e)).json(),console.log(i),this.setData(i.data,i.count)),t?this.count:this.getData()},DataManager.prototype.generateFetchParameters=function(t){var e={...this.fetch?.options};let i=this.fetch.url;e.method||(this.fetch.options.method=e.method="GET"),defaultParameters={pageKey:"page",itemsPerPage:"itemsPerPage",count:"count",getCount:"getCount",filterBy:"filterBy",sortBy:"sortBy"},dashboardParameters={...defaultParameters},this.fetch.dashboardParameters&&(dashboardParameters={...dashboardParameters,...this.fetch.dashboardParameters});var o=new URLSearchParams;return o.append(dashboardParameters.pageKey,this.page),o.append(dashboardParameters.itemsPerPage,this.itemsPerPage),o.append(dashboardParameters.getCount,t||!1),o.append(dashboardParameters.filterBy,JSON.stringify(this.filtering.keywords)),o.append(dashboardParameters.sortBy,JSON.stringify(this.sorting)),"POST"==e.method?e.body=o:i+="?"+o,{options:e,url:i}},DataManager.prototype.setData=function(t,e){this.data={raw:clone(t=t||[]),searched:clone(t),filtered:clone(t),sorted:clone(t),paged:clone(t)},this.fetch?.url?this.count=e:this.count=this.data.sorted.length,this.processData()},DataManager.prototype.processData=function(){var t,e,i;this.data&&!this.fetch?.url?this.data.sorted&&(t=this.data.sorted.length,e=this.itemsPerPage,(this.count=t)?(i=Math.ceil(t/e),this.pages=i):(this.page=1,this.pages=1)):(t=this.count,e=this.itemsPerPage,t&&(i=Math.ceil(t/e),this.pages=i))},DataManager.prototype.toggleSorting=function(){this.sorting.sortDirection=this.sorting.sortDirection==DataManager.SORTING.ASC?DataManager.SORTING.DESC:DataManager.SORTING.ASC},DataManager.prototype.refresh=async function(){return this.fetch?.url?await this.load():(this.processSearch(),this.processFiltering(),this.processSorting(),this.processData(),this.processPaging()),this.getData()},DataManager.prototype.reset=function(){this.setDefaults(),this.refresh()},DataManager.prototype.doSearch=function(t){this.setSearch(t),this.refresh()},DataManager.prototype.setSearch=function(t){this.search.parameters=t},DataManager.prototype.processSearch=function(){this.data&&this.data.raw&&this.search&&this.search.parameters&&this.processSearchParameters()},DataManager.prototype.processSearchParameters=function(){for(var t=this.data.searched=clone(this.data.raw),e=(this.search.options.enableSpecialCharacters,this.search.options.wholeWordSearch),i=0;i<t.length;i++){var o,n,a,r=!0,s=t[i];if(s)for(var h in this.search.parameters)this.search.parameters.hasOwnProperty(h)&&(o=e,n=(h=this.search.parameters[h]).field,a=h.value,a=String(a).toLowerCase().trim())&&(h=h.options,n=String(s[n]).toLowerCase().trim(),(o=h&&h.wholeWordSearch?h.wholeWordSearch:o)?n!=a&&(r=!1):-1==n.indexOf(a)&&(r=!1));r||(t.splice(i,1),i--)}},DataManager.prototype.filter=function(t){this.setFiltering(t),this.refresh()},DataManager.prototype.setFiltering=function(t){this.filtering=t},DataManager.prototype.processFiltering=function(){this.data&&this.data.searched&&this.filtering&&this.filtering.keywords&&this.processKeywordFilters()},DataManager.prototype.processKeywordFilters=function(){var t=this.data.filtered=clone(this.data.searched);for(k in this.filtering.keywords)for(var e=this.filtering.keywords[k],i=0;i<t.length;i++){var o=!1,n=t[i];if(n)for(var a in n)if(n.hasOwnProperty(a)){a=n[a],a=String(a).trim().toLowerCase(),e=String(e).trim().toLowerCase();if(-1<a.indexOf(e)){o=!0;break}}o||(t.splice(i,1),i--)}},DataManager.prototype.addKeyword=function(t){this.addFilterKeyword(t),this.refresh()},DataManager.prototype.addFilterKeyword=function(t){t=String(t).trim().toLowerCase(),this.filtering.keywords||(this.filtering.keywords=[]),-1<this.filtering.keywords.indexOf(t)||this.filtering.keywords.push(t)},DataManager.prototype.removeKeyword=function(t){this.removeFilterKeyword(t),this.refresh()},DataManager.prototype.removeFilterKeyword=function(t){if(console.log("Removing Filter: "+t),-1<this.filtering.keywords.indexOf(t))for(k in this.filtering.keywords)if((thisKeyword=this.filtering.keywords[k])==t){console.log("Found it, Removing Keyword "+t),this.filtering.keywords.splice(k,1);break}},DataManager.prototype.sort=function(t){this.setSorting(t),this.refresh()},DataManager.prototype.setSorting=function(t){t.sortBy&&(this.sorting.sortBy=t.sortBy),t.sortDirection&&(this.sorting.sortDirection=t.sortDirection),t.sortFieldText&&(this.sorting.sortFieldText=t.sortFieldText)},DataManager.prototype.processSorting=function(){var t,i;this.data&&(this.sorting.sortBy?(t=clone(this.data.filtered),i=this.sorting.sortBy,"asc"==String(this.sorting.sortDirection).toLowerCase()?t.sort(function(t,e){return t[i]<e[i]?-1:1}):t.sort(function(t,e){return t[i]<e[i]?1:-1}),this.data.sorted=t):this.data.sorted=clone(this.data.filtered))},DataManager.prototype.getData=function(){return this.data.paged},DataManager.prototype.updateProcessedDataset=function(){this.processedData=this.data.paged},DataManager.prototype.goToPage=async function(t){this.setPaging(t),this.processPaging()},DataManager.prototype.setPaging=function(t){isNaN(t)&&(t=this.page,!isNaN(t)&&0!=t||(t=1)),t>this.pages&&(t=this.pages),this.page=t},DataManager.prototype.processPaging=function(){if(this.data&&!this.fetch?.url){var t=this.data.sorted,e=t.length,i=this.itemsPerPage,o=this.page,n=(this.pages,o*i),a=[];for(j=n-i;j<n&&j<e;j++)a.push(t[j]);this.data.paged=a,this.updateProcessedDataset()}else this.fetch?.url},Field.prototype=Object.create(Component.prototype),(Field.prototype.constructor=Field).prototype.renderFieldValues=function(){var t,e=this.data,i=(visibility=this.visibility,"");this.onGetValue&&(i="function"==typeof(i=this.onGetValue)?i(this):i)&&(e=i),"Date"==this.dataType&&(i='<span class="record-date"><span class="calendar-icon"></span><span class="date"><span class="day">{Day}</span><span class="monthyear"><span class="month">{Month}</span><span class="year">{Year}</span></span></span></span>',e=i=(t=splitDate(this.data,this.language))&&3<=t.length?(i=(i=i.replaceAll("{Year}",t[0])).replaceAll("{Month}",t[1])).replaceAll("{Day}",t[2]):(i=(i=i.replaceAll("{Year}","")).replaceAll("{Month}","")).replaceAll("{Day}","")),e=ifEmptyReplaceWithSpace(e),this.setText(e),this.setText(this.translatedName,"itemTitle")},Field.defaultTemplate={wrapper:".record",item:".field",itemText:".field-value",itemIcon:".field-icon",itemLink:".field-click",itemTitle:".field-title",container:""},FieldHeader.prototype=Object.create(Component.prototype),(FieldHeader.prototype.constructor=FieldHeader).defaultTemplate={wrapper:".field-header-container",item:".field-header",itemText:".header-title",itemIcon:".header-icon",itemLink:"",container:""},FieldHeaderContainer.prototype=Object.create(Component.prototype),(FieldHeaderContainer.prototype.constructor=FieldHeaderContainer).defaultTemplate={wrapper:".header",item:".header-container",itemText:"",itemIcon:"",itemLink:"",imageSpacer:".image-spacer",container:".field-header-container"},FileLoader.prototype.loadFile=async function(){if(this.templateURL)try{return await(await fetch(this.templateURL)).text()}catch(t){console.warn("Something went wrong.",t)}},FileLoader.prototype.loadHTML=async function(){html=await this.loadFile();var t=(new DOMParser).parseFromString(html,"text/html").querySelector("*");return console.log(t),t},Filtering.prototype=Object.create(Component.prototype),(Filtering.prototype.constructor=Filtering).prototype.addKeyword=function(t){this.dataManager.addKeyword(t),this.refresh()},Filtering.prototype.removeKeyword=function(t){this.dataManager.removeKeyword(t),this.refresh()},Filtering.prototype.renderKeywords=function(){for(var t in this.removeChildren(),this.dataManager.filtering.keywords){t=this.dataManager.filtering.keywords[t],t=new FilteringKeyword(this,{...this.config,name:t},this.dataManager,this.templateManager,!1);this.append(t)}},Filtering.prototype.refresh=function(){this.renderKeywords(),this.filterRecordset(),this.dashboard.getChild(this.tab.name).refresh(),this.tab.pagination.refresh()},Filtering.prototype.clearInput=function(){this.objects.itemInput.value=""},Filtering.prototype.filterRecordset=function(){},Filtering.defaultTemplate={wrapper:".filtering",item:".search-tab",itemText:"",itemIcon:"",itemLink:"",itemInput:"input",itemButton:".search-button",container:".keywords-container"},FilteringKeyword.prototype=Object.create(Component.prototype),(FilteringKeyword.prototype.constructor=FilteringKeyword).prototype.close=function(){this.filtering.removeKeyword(this.name)},FilteringKeyword.defaultTemplate={wrapper:".keywords-container",item:".keyword",itemText:".keyword-text",itemIcon:"",itemLink:"",itemClose:".close",container:""},HTMLCollection.prototype.forEach=Array.prototype.forEach,NodeList.prototype.wrap=function(t){var e,i=document.createElement("div"),o=this[0].parentNode,n=this[0].previousSibling;for(i.innerHTML=t,e=i.firstChild;e.firstChild;)e=e.firstChild;[].forEach.call(this,function(t){e.appendChild(t)}),o.insertBefore(i.firstChild,n?n.nextSibling:o.firstChild)},Node.prototype.wrap=function(t){var e,i=document.createElement("div"),o=this.parentNode,n=this.previousSibling;for(i.innerHTML=t,e=i.firstChild;e.firstChild;)e=e.firstChild;return e.appendChild(this),o&&o.insertBefore(i.firstChild,n?n.nextSibling:o.firstChild),e},NodeList.prototype.unwrap=function(){this.forEach(function(t,e){for(var i=t.parentNode;t.firstChild;)i.insertBefore(t.firstChild,t);i.removeChild(t)})},Node.prototype.unwrap=function(){for(var t=this.parentNode;this.firstChild;)t.insertBefore(this.firstChild,this);t.removeChild(this)},NodeList.prototype.appendChild=function(i){this.forEach(function(t,e){t.appendChild(i)})},Node.prototype.prependChild=function(t){this.insertBefore(t,this.firstChild)},NodeList.prototype.remove=function(){this.forEach(function(t,e){t.parentNode.removeChild(t)})},Node.prototype.remove=function(t){this.parentNode.removeChild(this)},NodeList.prototype.hide=function(){this.forEach(function(t,e){t.style.display="none"})},Node.prototype.hide=function(){this.style.display="none"},NodeList.prototype.show=function(){this.forEach(function(t,e){t.style.display="block"})},Node.prototype.show=function(){this.style.display="block"};var timer,createNodeListFromArray=function(){var n=document.createDocumentFragment().childNodes;return function(t){var e,i={length:{value:t.length},item:{value:function(t){return this[+t||0]},enumerable:!0}};for(e in t){var o=t[e];i[e]={value:o,enumerable:!0}}return Object.create(n,i)}}();function startTimer(){timer=new Date,console.log("Timer Started")}function endTimer(){var t=(timerEnd=new Date).getTime()-timer.getTime();console.log("Timer: "+t/1e3)}function clone(t){if(null==t||"object"!=typeof t||t.templateManager instanceof TemplateManager)return t;if(t instanceof HTMLDivElement)return t;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){for(var e=[],i=0,o=t.length;i<o;i++)e[i]=clone(t[i]);return e}if(t instanceof HTMLElement)return t.cloneNode(!0);if(t instanceof Object){for(var n in e={},t)t.hasOwnProperty(n)&&(e[n]=clone(t[n]));return e}throw new Error("Unable to copy obj! Its type isn't supported.")}function stopEventPropagation(t){t.preventDefault(),t.stopPropagation()}function shallowCompare(t,e){for(var i in t)if(t.hasOwnProperty(i)&&t[i]!==e[i])return!1;for(var i in e)if(e.hasOwnProperty(i)&&t[i]!==e[i])return!1;return!0}function deepCompare(){var t,e,n,a;if(!(arguments.length<1))for(t=1,e=arguments.length;t<e;t++)if(n=[],a=[],!function t(e,i){if(isNaN(e)&&isNaN(i)&&"number"==typeof e&&"number"==typeof i)return 1;if(e===i)return 1;if("function"==typeof e&&"function"==typeof i||e instanceof Date&&i instanceof Date||e instanceof RegExp&&i instanceof RegExp||e instanceof String&&i instanceof String||e instanceof Number&&i instanceof Number)return e.toString()===i.toString();if(e instanceof Object&&i instanceof Object&&!e.isPrototypeOf(i)&&!i.isPrototypeOf(e)&&e.constructor===i.constructor&&e.prototype===i.prototype&&!(-1<n.indexOf(e)||-1<a.indexOf(i))){for(var o in i){if(i.hasOwnProperty(o)!==e.hasOwnProperty(o))return;if(typeof i[o]!=typeof e[o])return}for(o in e){if(i.hasOwnProperty(o)!==e.hasOwnProperty(o))return;if(typeof i[o]!=typeof e[o])return;switch(typeof e[o]){case"object":case"function":if(n.push(e),a.push(i),!t(e[o],i[o]))return;n.pop(),a.pop();break;default:if(e[o]!==i[o])return}}return 1}}(arguments[0],arguments[t]))return!1;return!0}function str(t){return t?String(t).trim():""}function PageButton(t,e){Component.call(this,t,null,e,!1),this.setText(this.config.name||this.config.pageNumber)}function Paging(t,e,i,o,n){Component.call(this,e,null,o,n),this.dataManager=i,this.tab=t,this.visiblePages=6,this.refresh()}function Panel(t,e,i,o){Component.call(this,t,e,i,o);o=new Tab(t,e,{templateBuilder:i.templateBuilder}),t=new Recordset(t,e,{templateBuilder:i.templateBuilder});this.append(o,"tab"),this.append(t,"panel")}function Record(t,e,i,o){if(Component.call(this,t,e,i,o),this.fields=Component.getFieldSettings(this.fields,this.language),this?.image?.url&&e?.[this.image.url]?this.setBackgroundImage(e?.[this.image.url],null,{height:this.image.height}):this?.image?this.setBackgroundImage("assets/defaultImage.jpg",null,{height:this.image.height,"background-size":"contain"}):this.objects.itemBackgroundImage.hide(),this.fieldsGrid)for(var n in this.fieldsGrid)this.objects.container.fields.style.cssText+=n+":"+this.fieldsGrid[n]+";";if(this.fields)for(var a=Object.keys(this.fields),r=0;r<a.length;r++){var s=a[r],s=new Field(thisFieldSettings=this.fields[s],e[thisFieldSettings.dataField],i,o);this.append(s,"fields")}if(this.actions){for(var h=Object.keys(this.actions),r=0;r<h.length;r++){var c=h[r],l=this.actions[c];l&&((l=!0===l?{}:l).name=c,c=new Action(l,this.data,i,o),this.append(c,"actions"))}"menu"==this.actionsType&&(t=new ActionsMenu(this,this.config,e,i,o),this.prepend(t,"actionMenu"))}}function Recordset(t,e,i,o){if(Component.call(this,t,e.getData(),i,o),this.dataManager=e,this.refresh(),this.recordsGrid)for(var n in this.recordsGrid)this.objects.container.records.style.cssText+=n+":"+this.recordsGrid[n]+";"}function Sorting(t,e,i,o,n){Component.call(this,{...e,onClick:function(){this.toggleMenu()}},i.getData(),o,n),this.dataManager=i,this.tab=t,this.dashboard=t.dashboard,this.createItems(),this.highlightSelected(),this.closeMenu();var a=this;document.addEventListener("mouseup",function(t){a.object.contains(t.target)||a.closeMenu()})}function SortingItem(t,e,i,o,n){e.onClick=function(){t.dataManager.toggleSorting(),t.dataManager.sort({sortBy:e.fieldKey,sortFieldText:e.name}),t.toggleMenu(),t.tab.tabs.goToTab(t.tab.name)},Component.call(this,e,[],o,n),this.dataManager=i,this.sortDirection="asc"}function Tab(t,e,i,o,n){this.active=!1;var a={...e};a.onClick||(a.onClick=function(){this.setActive(!0),t.goToTab(a.name)}),Component.call(this,a,i.getData(),o,n),this.dataManager=i,this.tabs=t,this.dashboard=t.dashboard,this.originalConfig=e,this.refreshCount()}function getRandomInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}function Tabs(t,e,i,o,n){Component.call(this,e,i,o,n),this.dashboard=t,this.loadTabs()}function Template({name:t,templateManager:e,selectors:i,useExistingElement:o}){this.init(t,i,e,o)}function isElement(t){return t instanceof Element||t instanceof HTMLDocument}function TemplateManager(t){t=t||document.querySelector("*"),this.DOMNode=t.cloneNode(!0),this.liveDOMNode=t,this.cachedTemplates={}}function isElement(t){return t instanceof Element||t instanceof HTMLDocument}function UserProfile(t,e,i,o,n){Component.call(this,{...e},i,o,n),this.dashboard=t}function ViewSwitcher(t,e,i,o,n){Component.call(this,e,i,o,n),this.viewMode=this.viewMode?String(this.viewMode).trim().toLowerCase():"cards",this.tab=t,this.dashboard=t.dashboard,this.refresh(),this.switchView(this.viewMode)}function ViewSwitcherButton(t,e,i){Component.call(this,e,null,i,!1),this.viewSwitcher=t,this.dashboard=t.dashboard,this.setText(this.name)}NodeList.prototype.querySelectorAll=function(e){var i=[];return[].forEach.call(this,function(t){t=t.querySelectorAll(e);[].forEach.call(t,function(t){i.push(t)})}),createNodeListFromArray(i)},NodeList.prototype.addClickHandler=function(e,i){[].forEach.call(this,function(t){t.addEventListener("click",e,!1),t.params=i})},Node.prototype.addClickHandler=function(t,e){this.addEventListener("click",t,!1),this.params=e},Node.prototype.toggleClass=function(t){this.classList.contains(t)?this.classList.remove(t):this.classList.add(t)},NodeList.prototype.toggleClass=function(e){[].forEach.call(this,function(t){t.toggleClass(e)})},Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(t){"use strict";var e=Object(this),i=parseInt(e.length)||0;if(0!==i){var o,n,a=parseInt(arguments[1])||0;for(0<=a?o=a:(o=i+a)<0&&(o=0);o<i;){if(t===(n=e[o])||t!=t&&n!=n)return!0;o++}}return!1}}),String.prototype.replaceAll||Object.defineProperty(String.prototype,"replaceAll",{enumerable:!1,value:function(t,e){var i=String(this);return i&&i.replace(new RegExp(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),e)}}),PageButton.prototype=Object.create(Component.prototype),(PageButton.prototype.constructor=PageButton).prototype.highlight=function(){this.addClass("active")},PageButton.prototype.unhighlight=function(){this.removeClass("active")},PageButton.defaultTemplate={wrapper:"",item:".button-paging",itemText:".button-paging",itemIcon:"",itemLink:"",container:""},Paging.prototype=Object.create(Component.prototype),(Paging.prototype.constructor=Paging).prototype.renderPageHighlight=function(){var t=this.getPageButton(this.dataManager.page);t&&t.highlight()},Paging.prototype.refresh=function(){this.removeChildren();var t=this.dataManager,e=this,i=this.visiblePages,o=this.visibleBlock||Math.ceil(this.dataManager.page/i),n=Math.ceil(this.dataManager.pages/i),a=(o=n<o?n:o)*i-i+1,r=o*i,i=(this.dataManager.pages<r&&(r=this.dataManager.pages),new PageButton({pageNumber:"1",name:"<<",onClick:function(){e.tab.goToPage(this.pageNumber),e.unhighlight(),this.highlight()},id:this.tab+"_page_"+s+"_start"},this.templateManager)),i=(this.append(i),new PageButton({pageNumber:"",name:"<",onClick:function(){e.visibleBlock=o-1<=0?1:o-1,e.refresh()},id:this.tab+"_page_"+s+"_prev"},this.templateManager));this.append(i);for(var s=a;s<=r;s++){var h=new PageButton({pageNumber:s,onClick:function(){e.tab.goToPage(this.pageNumber),e.unhighlight(),this.highlight(),e.visibleBlock=null},id:this.tab+"_page_"+s},this.templateManager);this.append(h)}i=new PageButton({pageNumber:"",name:">",onClick:function(){e.visibleBlock=n<o+1?n:o+1,e.refresh()},id:this.tab+"_page_"+s+"_prev"},this.templateManager),this.append(i),a=new PageButton({pageNumber:this.dataManager.pages,name:">>",onClick:function(){e.tab.goToPage(t.pages),e.unhighlight(),this.highlight()},id:this.tab+"_page_"+s+"_end"},this.templateManager);this.append(a),this.renderPageHighlight()},Paging.prototype.getPageButton=function(t){for(var e in this.children.container)if(this.children.container[e]&&this.children.container[e].id==this.tab+"_page_"+t)return this.children.container[e]},Paging.prototype.unhighlight=function(t){for(var e in this.children.container)this.children.container[e]&&this.children.container[e].unhighlight()},Paging.defaultTemplate={wrapper:"",item:".paging",itemText:"",itemIcon:"",itemLink:"",container:".paging-container"},Panel.prototype=Object.create(Component.prototype),(Panel.prototype.constructor=Panel).defaultTemplate={wrapper:"",item:".main",itemText:"",itemIcon:"",itemLink:"",container:{tab:".tabs .container-fluid .row",panel:".tab-content"}},Record.prototype=Object.create(Component.prototype),(Record.prototype.constructor=Record).defaultTemplate={wrapper:"",item:".record",itemText:"",itemIcon:".record-icon",itemLink:".record",itemBackgroundImage:".record-image",container:{actionMenu:".action-menu-container",fields:".field-container",actions:".actions-container .actions > tbody > tr"}},Record.prototype.createFields=function(){},Recordset.prototype=Object.create(Component.prototype),(Recordset.prototype.constructor=Recordset).prototype.setDataManager=function(t){this.dataManager=t,this.data=t.getData()},Recordset.prototype.refresh=async function(){await this.showLoader(),this.data=await this.dataManager.refresh(),this.hideLoader(),this.removeChildren("fieldHeader");var t=new FieldHeaderContainer(this.config.recordSettings,this.data,this.templateManager);if(this.append(t,"fieldHeader"),this.removeChildren("records"),this.data instanceof Array)for(i in this.data){recordData=this.data[i];var e=new Record(this.config.recordSettings,recordData,this.templateManager);this.append(e,"records")}this.switchView(this.config.viewMode)},Recordset.prototype.switchView=function(t){},Recordset.defaultTemplate={wrapper:"",item:".tab-panel",itemText:"",itemIcon:"",itemLink:"",container:{records:".record-container",fieldHeader:".header"}},Sorting.prototype=Object.create(Component.prototype),(Sorting.prototype.constructor=Sorting).prototype.toggleMenu=function(){this.template.objects.itemDropDown.toggleClass("open")},Sorting.prototype.closeMenu=function(){this.removeClass("open","itemDropDown")},Sorting.prototype.createItems=function(){for(var t in this.fields){t=new SortingItem(this,{...this.fields[t],tab:this.tab,fieldKey:t},[],this.templateManager,!1);this.append(t)}},Sorting.prototype.highlightSelected=function(){var t=this.dataManager.sorting;t&&t.sortBy?this.setText(t.sortFieldText,"itemSortingButton"):(originalText=this.getTemplate(null,null,!1).objects.itemSortingButton.innerHTML,this.setText(originalText,"itemSortingButton")),this.dataManager.sorting.sortDirection==DataManager.SORTING.ASC?this.addClass("flip","itemSortingDirection"):this.removeClass("flip","itemSortingDirection")},Sorting.defaultTemplate={wrapper:"",item:".sort",itemText:".sortText",itemIcon:"",itemLink:"",itemBadge:"",itemSortingButton:".buttonText",itemDropDown:".dropdown",itemSortingDirection:".caret",container:".dropdown-menu"},SortingItem.prototype=Object.create(Component.prototype),(SortingItem.prototype.constructor=SortingItem).prototype.create=function(t){},SortingItem.defaultTemplate={wrapper:".sort",item:"li",itemText:"a",itemIcon:"",itemLink:"",itemBadge:"",container:""},Tab.prototype=Object.create(Component.prototype),(Tab.prototype.constructor=Tab).prototype.refreshCount=async function(){await this.showLoader(),await this.dataManager.load(!0),this.objects.itemBadge&&this.setText(this.dataManager.count,"itemBadge"),this.hideLoader(),this.pagination?.refresh()},Tab.prototype.setActive=function(t){t?(this.active=!0,this.addClass("active")):(this.active=!1,this.removeClass("active"))},Tab.prototype.goToPage=async function(t){await this.dataManager.goToPage(t),await this.refresh()},Tab.prototype.refresh=async function(){this.fields=Component.getFieldSettings(this.recordSettings.fields,this.language),this.setBreadCrumbs(),this.setRecordset(),this.setPagination(),this.setSorting(),this.setFiltering(),this.setView()},Tab.prototype.setBreadCrumbs=function(){this.dashboard.setText('<span class="bc-tab-title">'+this.name+": </span>"+(this.description||""),"tabBreadCrumbs")},Tab.prototype.setRecordset=function(){var t=this.dashboard.getChild(this.name);t?t.refresh():(t=new Recordset(this.originalConfig,this.dataManager,this.templateManager),this.dashboard.append(t,"recordset"))},Tab.prototype.setPagination=function(){var t=new Paging(this,{name:this.name},this.dataManager,this.templateManager,!0);this.pagination=t},Tab.prototype.setFiltering=function(){(t=this.dashboard.getChild("Search"))&&t.remove();var t=new Filtering(this,{name:"Search"},this.dataManager,this.templateManager);this.dashboard.append(t,"filtering")},Tab.prototype.setSorting=function(){new Sorting(this,{fields:this.fields,name:"Sort By"},this.dataManager,this.templateManager,!0)},Tab.prototype.setView=function(){(t=this.dashboard.getChild("View"))&&t.remove();var t=new ViewSwitcher(this,{name:"View",viewMode:this.viewMode},this.dataManager,this.templateManager);this.dashboard.append(t,"viewSwitcher")},Tab.prototype.deactivate=function(){var t=this.dashboard.getChild(this.name);this.setActive(!1),t&&t.remove()},Tab.defaultTemplate={wrapper:".tabs",item:".tab",itemText:".tab-title",itemIcon:".icon",itemLink:"a",itemBadge:".badge",container:""},Tabs.prototype=Object.create(Component.prototype),(Tabs.prototype.constructor=Tabs).prototype.loadTabs=async function(){for(var t in this.processTabs(),this.tabs){var e=this.tabs[t],i=e.fetch||this.config.fetch,i=new Tab(this,e,dataManager=new DataManager({fetch:i},this.data?.[e.name]),this.templateManager);this.tabs[t].dataManager=dataManager,this.tabs[t].tab=i,this.append(i)}var o;this.config.initialActiveTab||(o=Object.keys(this.tabs),this.config.initialActiveTab=o.length?o[0]:null),this.goToTab(this.config.initialActiveTab)},Tabs.prototype.goToTab=function(t){t&&(this.activeTab&&this.activeTab.name!=t&&(this.activeTab.deactivate(),this.activeTab=null),this.activeTab=this.getChild(t),this.activeTab.setActive(!0),this.activeTab.refresh())},Tabs.prototype.processTabs=function(){for(var t in this.tabs){var e=this.tabs[t],t=(e.name||(e.name=t),"en-US"),i=(e.hasOwnProperty("language")&&(t=e.language),e.name);e?.translation?.[t]&&(i=e.translation[t]),this.translatedName=i}},Tabs.defaultTemplate={wrapper:".sidebar",item:".tabs",itemText:"",itemIcon:"",itemLink:"",itemBadge:"",container:".tabs"},Template.prototype.init=function(t,e,i,o){this.objects={},this.object={},this.selectors={},this.name=t,this.generateId(),this.templateManager=i||new TemplateManager,this.useExistingElement=!1!==o,this.currentIcons={},this.selectors=e||{wrapper:"",item:"."+Template.sanitizeName(t)+"-element",itemText:".text",itemBody:".body",itemIcon:".icon",itemLink:".link",itemImage:".image",container:".container"},this.selectors.wrapper||(this.selectors.wrapper="")},Template.prototype.setText=function(t,e){e=e||"itemText";try{this.objects[e].innerHTML=t}catch(t){console.log("%cTemplate "+this.name+" setText: "+t,"color:  #989126")}},Template.prototype.addClass=function(t,e){if(""!=t){e=e||"item";var i=t.split(" ");try{for(var o in i)this.objects[e].classList.add(i[o])}catch(t){console.log("%cTemplate "+this.name+" addClass: "+t,"color:  #989126")}}},Template.prototype.removeClass=function(t,e){e=e||"item";try{var i,o=t.split(" ");for(i in o)this.objects[e].classList.remove(o[i])}catch(t){console.log("%cTemplate "+this.name+" removeClass: "+t,"color:  #989126")}},Template.prototype.setImage=function(t,e){e=e||"itemImage";try{this.objects[e].setAttribute("src",t)}catch(t){console.log("%cTemplate "+this.name+" setImage: "+t,"color:  #989126")}},Template.prototype.setBackgroundImage=function(t,e,i){e=e||"itemBackgroundImage";try{if(this.objects[e].style.background='url("'+t+'")',this.objects[e].style.backgroundPosition="center center",this.objects[e].style.backgroundRepeat="no-repeat",this.objects[e].style.backgroundSize="cover",i)for(var o in i)this.objects[e].style.cssText+=o+":"+i[o]+";"}catch(t){console.log("%cTemplate "+this.name+" setBackgroundImage: "+t,"color:  #989126")}},Template.prototype.setIcon=function(t,e){this.currentIcons[e=e||"itemIcon"]=t,this.addClass(t,e)},Template.prototype.removeIcon=function(t){this.currentIcons[t=t||"itemIcon"]&&this.removeClass(this.currentIcons[t],t)},Template.prototype.setLink=function(t,e,i){this.objects[e=e||"itemLink"]||(e="item");var o=String(this.selectors[e]).replaceAll(".","");try{if("a"==String(this.objects[e].tagName).toLowerCase())this.objects[e].setAttribute("href",t),this.objects[e].setAttribute("target",i);else{var n=this.objects[e].wrap('<a href="'+t+'" class="'+o+'"></a>');if(this.objects[e]=n,this.objects[e].setAttribute("target",i),this.selectors[e]==this.selectors.item)return n}}catch(t){console.log("%cTemplate "+this.name+" setLink: "+t,"color: #989126")}},Template.prototype.render=function(){this.useExistingElement?(this.selectors.wrapper&&(this.objects.wrapper=this.templateManager.liveDOMNode.querySelector(this.selectors.wrapper)),this.objects.item=this.templateManager.liveDOMNode.querySelector(this.selectors.wrapper+" "+this.selectors.item),this.objects.item&&""==this.objects.item.innerHTML&&(this.selectors.wrapper&&(this.objects.wrapper=this.templateManager.DOMNode.querySelector(this.selectors.wrapper)),this.objects.item=this.templateManager.DOMNode.querySelector(this.selectors.wrapper+" "+this.selectors.item)?.cloneNode(!0),this.objects.item)&&(this.templateManager.liveDOMNode.querySelector(this.selectors.wrapper+" "+this.selectors.item).innerHTML=this.objects.item.innerHTML,this.objects.item=this.templateManager.liveDOMNode.querySelector(this.selectors.wrapper+" "+this.selectors.item))):(this.selectors.wrapper&&(this.objects.wrapper=this.templateManager.DOMNode.querySelector(this.selectors.wrapper)),this.objects.item=this.templateManager.DOMNode.querySelector(this.selectors.wrapper+" "+this.selectors.item).cloneNode(!0));var t,e=Object.keys(this.selectors);for(t in e){var i,o=e[t],n=this.selectors[o];if("item"!=o&&"wrapper"!=o)if("string"==typeof n&&n)this.objects[o]||((i=this.objects.item.querySelector(n))?this.objects[o]=i:(i=this.objects.item.matches(n))?this.objects[o]=this.objects.item:console.log("%cCannot find Node for "+this.name+" -> "+o+" : "+n,"color: red"));else if("object"==typeof n&&n)for(var a in n)n.hasOwnProperty(a)&&(childSelector=n[a])&&(i=this.objects.item.querySelector(childSelector))&&(this.objects[o]||(this.objects[o]={}),this.objects[o][a]=i)}if(this.objects.container)if(isElement(this.objects.container))this.objects.container.innerHTML="";else for(var r in this.objects.container)this.objects.container.hasOwnProperty(r)&&(r=this.objects.container[r])&&(r.innerHTML="");this.object=this.objects.item,this.setId(),this.addClass(Template.sanitizeName(this.name)+"-element")},Template.prototype.clone=function(){var t=new Template({name:this.name,selectors:this.selectors,templateManager:this.templateManager,useExistingElement:!1});return t.render(),t},Template.prototype.setId=function(){try{if(!this.object)throw"Error: "+this.name+" has no Node Object.";this.object.id=this.id}catch(t){console.log(t)}},Template.prototype.append=function(t,e){try{if(!this.object)throw"Error: "+this.name+" has no Node Object.";if(!t.object)throw"Error: "+t.name+" has no Node Object.";var i=this.selectors.container,o="container",n=!0;this.selectors[e]?(o=e,i=this.selectors[e]):!e||"string"!=typeof i&&(i=this.selectors.container[e],o=e,i)||(i=e,o=null,n=!1),(i&&""!=i?n?(this.objects[o]?this.objects:this.objects.container)[o]:this.object.querySelectorAll(i):this.object).appendChild(t.object)}catch(t){console.log(t)}},Template.prototype.prepend=function(t,e){try{if(!this.object)throw"Error: "+this.name+" has no Node Object.";if(!t.object)throw"Error: "+t.name+" has no Node Object.";var i=this.selectors.container,o="container",n=!0;this.selectors[e]?(o=e,i=this.selectors[e]):!e||"string"!=typeof i&&(i=this.selectors.container[e],o=e,i)||(i=e,o=null,n=!1),(i&&""!=i?n?(this.objects[o]?this.objects:this.objects.container)[o]:this.object.querySelectorAll(i):this.object).prependChild(t.object)}catch(t){console.log(t)}},Template.prototype.generateId=function(t){try{var e=(e=t)||this.name,i=Template.generateId(e);this.id=i}catch(t){console.log(t)}},Template.generateId=function(t){try{var e=t;if(!e)throw"Warning: "+this+" has no name. A random Id will be generated.";var i=Template.generateIdFromName(e)}catch(t){return console.log(t),i=Template.generateRandomId()}return i},Template.generateIdFromName=function(t){var e=Template.generateRandomId(),t=String(t).trim();return t=(t=(t=(t=t.replace("'","")).replace('"',"")).replace(/[^\w]/gi,"_")).toLowerCase(),t+="-"+e},Template.sanitizeName=function(t){t=String(t).trim();return t=(t=(t=(t=t.replace("'","")).replace('"',"")).replace(/[^\w]/gi,"_")).toLowerCase()},Template.generateRandomId=function(){var t=24*Math.random()|0,e=46656*Math.random()|0,i=46656*Math.random()|0,o=46656*Math.random()|0;return firstLetter=String.fromCharCode(97+t),e=("000"+e.toString(36)).slice(-3),i=("000"+i.toString(36)).slice(-3),o=("000"+o.toString(36)).slice(-3),firstLetter+e+i+o},TemplateManager.prototype.getTemplate=function(t,e,i){var o;if(this.DOMNode)return!t||!this.cachedTemplates[t]||e&&!shallowCompare(this.cachedTemplates[t].selectors,e)||i?((o=new Template({name:t,selectors:e,templateManager:this,useExistingElement:i})).render(),t&&(this.cachedTemplates[t]=o.clone())):o=this.cachedTemplates[t].clone(),o;throw console.log("%cNo Template was instantiated!","color: red"),"No Template was instantiated!"},UserProfile.prototype=Object.create(Component.prototype),(UserProfile.prototype.constructor=UserProfile).defaultTemplate={wrapper:"",item:".user-container",itemText:".name",itemIcon:"",itemLink:"",itemImage:"img",container:""},ViewSwitcher.prototype=Object.create(Component.prototype),(ViewSwitcher.prototype.constructor=ViewSwitcher).prototype.refresh=function(){this.viewMode||(this.viewMode="cards"),this.removeChildren(),this.unhighlight();var t=this,e=new ViewSwitcherButton(this,{name:"cards",onClick:function(){t.switchView("cards")},id:this.tab+"_view_cards"},this.templateManager),e=(this.append(e),new ViewSwitcherButton(this,{name:"list",onClick:function(){t.switchView("list")},id:this.tab+"_view_list"},this.templateManager));this.append(e),this.renderHighlights()},ViewSwitcher.prototype.switchView=function(t){this.viewMode=t,this.tab.viewMode=t,this.dashboard.switchView(t),this.renderHighlights()},ViewSwitcher.prototype.renderHighlights=function(){this.getChild("cards")?.unhighlight(),this.getChild("list")?.unhighlight(),this.getChild(this.viewMode)?.highlight()},ViewSwitcher.prototype.unhighlight=function(){this.getChild("cards")?.unhighlight(),this.getChild("list")?.unhighlight()},ViewSwitcher.defaultTemplate={wrapper:"",item:".view-tool",itemText:".view-text",itemIcon:"",itemLink:"",container:".view-container"},ViewSwitcherButton.prototype=Object.create(Component.prototype),(ViewSwitcherButton.prototype.constructor=ViewSwitcherButton).prototype.highlight=function(){this.addClass("active")},ViewSwitcherButton.prototype.unhighlight=function(){this.removeClass("active")},ViewSwitcherButton.defaultTemplate={wrapper:".view-container",item:"button",itemText:"button",itemIcon:"",itemLink:"",container:""};
				return {
					Action: Action,
					ActionsContainer: ActionsContainer,
					ActionsMenu: ActionsMenu,
					Component: Component,
					Dashboard: Dashboard,
					DataManager: DataManager,
					Field: Field,
					FieldHeader: FieldHeader,
					FieldHeaderContainer: FieldHeaderContainer,
					FileLoader: FileLoader,
					Filtering: Filtering,
					FilteringKeyword: FilteringKeyword,
					PageButton: PageButton,
					Paging: Paging,
					Record: Record,
					Recordset: Recordset,
					Sorting: Sorting,
					SortingItem: SortingItem,
					Tab: Tab,
					Tabs: Tabs,
					Template: Template,
					TemplateManager: TemplateManager,
					UserProfile: UserProfile,
					ViewSwitcher: ViewSwitcher,
					ViewSwitcherButton: ViewSwitcherButton
				};
			})();